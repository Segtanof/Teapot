2025/03/25 14:58:10 routes.go:1187: INFO server config env="map[CUDA_VISIBLE_DEVICES:0 GPU_DEVICE_ORDINAL:0 HIP_VISIBLE_DEVICES: HSA_OVERRIDE_GFX_VERSION: HTTPS_PROXY: HTTP_PROXY: NO_PROXY: OLLAMA_DEBUG:true OLLAMA_FLASH_ATTENTION:false OLLAMA_GPU_OVERHEAD:0 OLLAMA_HOST:http://127.0.0.1:12258 OLLAMA_INTEL_GPU:false OLLAMA_KEEP_ALIVE:4h0m0s OLLAMA_KV_CACHE_TYPE: OLLAMA_LLM_LIBRARY: OLLAMA_LOAD_TIMEOUT:5m0s OLLAMA_MAX_LOADED_MODELS:0 OLLAMA_MAX_QUEUE:512 OLLAMA_MODELS:/pfs/work7/workspace/scratch/ma_ssiu-ollama_models/.ollama/models OLLAMA_MULTIUSER_CACHE:false OLLAMA_NOHISTORY:false OLLAMA_NOPRUNE:false OLLAMA_NUM_PARALLEL:8 OLLAMA_ORIGINS:[http://localhost https://localhost http://localhost:* https://localhost:* http://127.0.0.1 https://127.0.0.1 http://127.0.0.1:* https://127.0.0.1:* http://0.0.0.0 https://0.0.0.0 http://0.0.0.0:* https://0.0.0.0:* app://* file://* tauri://* vscode-webview://*] OLLAMA_SCHED_SPREAD:false ROCR_VISIBLE_DEVICES:0 http_proxy: https_proxy: no_proxy:]"
time=2025-03-25T14:58:10.123+01:00 level=INFO source=images.go:432 msg="total blobs: 26"
time=2025-03-25T14:58:10.125+01:00 level=INFO source=images.go:439 msg="total unused blobs removed: 0"
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] POST   /api/pull                 --> github.com/ollama/ollama/server.(*Server).PullHandler-fm (5 handlers)
[GIN-debug] POST   /api/generate             --> github.com/ollama/ollama/server.(*Server).GenerateHandler-fm (5 handlers)
[GIN-debug] POST   /api/chat                 --> github.com/ollama/ollama/server.(*Server).ChatHandler-fm (5 handlers)
[GIN-debug] POST   /api/embed                --> github.com/ollama/ollama/server.(*Server).EmbedHandler-fm (5 handlers)
[GIN-debug] POST   /api/embeddings           --> github.com/ollama/ollama/server.(*Server).EmbeddingsHandler-fm (5 handlers)
[GIN-debug] POST   /api/create               --> github.com/ollama/ollama/server.(*Server).CreateHandler-fm (5 handlers)
[GIN-debug] POST   /api/push                 --> github.com/ollama/ollama/server.(*Server).PushHandler-fm (5 handlers)
[GIN-debug] POST   /api/copy                 --> github.com/ollama/ollama/server.(*Server).CopyHandler-fm (5 handlers)
[GIN-debug] DELETE /api/delete               --> github.com/ollama/ollama/server.(*Server).DeleteHandler-fm (5 handlers)
[GIN-debug] POST   /api/show                 --> github.com/ollama/ollama/server.(*Server).ShowHandler-fm (5 handlers)
[GIN-debug] POST   /api/blobs/:digest        --> github.com/ollama/ollama/server.(*Server).CreateBlobHandler-fm (5 handlers)
[GIN-debug] HEAD   /api/blobs/:digest        --> github.com/ollama/ollama/server.(*Server).HeadBlobHandler-fm (5 handlers)
[GIN-debug] GET    /api/ps                   --> github.com/ollama/ollama/server.(*Server).PsHandler-fm (5 handlers)
[GIN-debug] POST   /v1/chat/completions      --> github.com/ollama/ollama/server.(*Server).ChatHandler-fm (6 handlers)
[GIN-debug] POST   /v1/completions           --> github.com/ollama/ollama/server.(*Server).GenerateHandler-fm (6 handlers)
[GIN-debug] POST   /v1/embeddings            --> github.com/ollama/ollama/server.(*Server).EmbedHandler-fm (6 handlers)
[GIN-debug] GET    /v1/models                --> github.com/ollama/ollama/server.(*Server).ListHandler-fm (6 handlers)
[GIN-debug] GET    /v1/models/:model         --> github.com/ollama/ollama/server.(*Server).ShowHandler-fm (6 handlers)
[GIN-debug] GET    /                         --> github.com/ollama/ollama/server.(*Server).GenerateRoutes.func1 (5 handlers)
[GIN-debug] GET    /api/tags                 --> github.com/ollama/ollama/server.(*Server).ListHandler-fm (5 handlers)
[GIN-debug] GET    /api/version              --> github.com/ollama/ollama/server.(*Server).GenerateRoutes.func2 (5 handlers)
[GIN-debug] HEAD   /                         --> github.com/ollama/ollama/server.(*Server).GenerateRoutes.func1 (5 handlers)
[GIN-debug] HEAD   /api/tags                 --> github.com/ollama/ollama/server.(*Server).ListHandler-fm (5 handlers)
[GIN-debug] HEAD   /api/version              --> github.com/ollama/ollama/server.(*Server).GenerateRoutes.func2 (5 handlers)
time=2025-03-25T14:58:10.128+01:00 level=INFO source=routes.go:1238 msg="Listening on 127.0.0.1:12258 (version 0.5.7)"
time=2025-03-25T14:58:10.128+01:00 level=DEBUG source=common.go:80 msg="runners located" dir=/pfs/data5/software_uc2/bwhpc/common/cs/ollama/0.5.7/lib/ollama/runners
time=2025-03-25T14:58:10.131+01:00 level=DEBUG source=common.go:124 msg="availableServers : found" file=/pfs/data5/software_uc2/bwhpc/common/cs/ollama/0.5.7/lib/ollama/runners/cpu_avx/ollama_llama_server
time=2025-03-25T14:58:10.131+01:00 level=DEBUG source=common.go:124 msg="availableServers : found" file=/pfs/data5/software_uc2/bwhpc/common/cs/ollama/0.5.7/lib/ollama/runners/cpu_avx2/ollama_llama_server
time=2025-03-25T14:58:10.131+01:00 level=DEBUG source=common.go:124 msg="availableServers : found" file=/pfs/data5/software_uc2/bwhpc/common/cs/ollama/0.5.7/lib/ollama/runners/cuda_v11_avx/ollama_llama_server
time=2025-03-25T14:58:10.131+01:00 level=DEBUG source=common.go:124 msg="availableServers : found" file=/pfs/data5/software_uc2/bwhpc/common/cs/ollama/0.5.7/lib/ollama/runners/cuda_v12_avx/ollama_llama_server
time=2025-03-25T14:58:10.131+01:00 level=DEBUG source=common.go:124 msg="availableServers : found" file=/pfs/data5/software_uc2/bwhpc/common/cs/ollama/0.5.7/lib/ollama/runners/rocm_avx/ollama_llama_server
time=2025-03-25T14:58:10.131+01:00 level=INFO source=routes.go:1267 msg="Dynamic LLM libraries" runners="[cuda_v11_avx cuda_v12_avx rocm_avx cpu cpu_avx cpu_avx2]"
time=2025-03-25T14:58:10.131+01:00 level=DEBUG source=routes.go:1268 msg="Override detection logic by setting OLLAMA_LLM_LIBRARY"
time=2025-03-25T14:58:10.131+01:00 level=DEBUG source=sched.go:105 msg="starting llm scheduler"
time=2025-03-25T14:58:10.131+01:00 level=INFO source=gpu.go:226 msg="looking for compatible GPUs"
time=2025-03-25T14:58:10.147+01:00 level=DEBUG source=gpu.go:99 msg="searching for GPU discovery libraries for NVIDIA"
time=2025-03-25T14:58:10.147+01:00 level=DEBUG source=gpu.go:517 msg="Searching for GPU library" name=libcuda.so*
time=2025-03-25T14:58:10.147+01:00 level=DEBUG source=gpu.go:543 msg="gpu library search" globs="[/pfs/data5/software_uc2/bwhpc/common/cs/ollama/0.5.7/lib/ollama/libcuda.so* /pfs/data5/software_uc2/bwhpc/common/cs/ollama/0.5.7/lib/ollama/libcuda.so* /opt/bwhpc/common/devel/cuda/12.2/lib64/libcuda.so* /opt/bwhpc/common/cs/ollama/0.5.7/lib/ollama/libcuda.so* /usr/local/cuda*/targets/*/lib/libcuda.so* /usr/lib/*-linux-gnu/nvidia/current/libcuda.so* /usr/lib/*-linux-gnu/libcuda.so* /usr/lib/wsl/lib/libcuda.so* /usr/lib/wsl/drivers/*/libcuda.so* /opt/cuda/lib*/libcuda.so* /usr/local/cuda/lib*/libcuda.so* /usr/lib*/libcuda.so* /usr/local/lib*/libcuda.so*]"
time=2025-03-25T14:58:10.151+01:00 level=DEBUG source=gpu.go:576 msg="discovered GPU libraries" paths="[/usr/lib/libcuda.so.550.54.15 /usr/lib64/libcuda.so.550.54.15]"
initializing /usr/lib/libcuda.so.550.54.15
library /usr/lib/libcuda.so.550.54.15 load err: /usr/lib/libcuda.so.550.54.15: wrong ELF class: ELFCLASS32
time=2025-03-25T14:58:10.151+01:00 level=DEBUG source=gpu.go:627 msg="skipping 32bit library" library=/usr/lib/libcuda.so.550.54.15
initializing /usr/lib64/libcuda.so.550.54.15
dlsym: cuInit - 0x145fc66feef0
dlsym: cuDriverGetVersion - 0x145fc66fef10
dlsym: cuDeviceGetCount - 0x145fc66fef50
dlsym: cuDeviceGet - 0x145fc66fef30
dlsym: cuDeviceGetAttribute - 0x145fc66ff030
dlsym: cuDeviceGetUuid - 0x145fc66fef90
dlsym: cuDeviceGetName - 0x145fc66fef70
dlsym: cuCtxCreate_v3 - 0x145fc66ff210
dlsym: cuMemGetInfo_v2 - 0x145fc6709190
dlsym: cuCtxDestroy - 0x145fc67637f0
calling cuInit
calling cuDriverGetVersion
raw version 0x2f08
CUDA driver version: 12.4
calling cuDeviceGetCount
device count 1
time=2025-03-25T14:58:10.211+01:00 level=DEBUG source=gpu.go:134 msg="detected GPUs" count=1 library=/usr/lib64/libcuda.so.550.54.15
[GPU-0cf07724-e3e3-728b-00a0-5d028d558f96] CUDA totalMem 32494 mb
[GPU-0cf07724-e3e3-728b-00a0-5d028d558f96] CUDA freeMem 32166 mb
[GPU-0cf07724-e3e3-728b-00a0-5d028d558f96] Compute Capability 7.0
time=2025-03-25T14:58:10.380+01:00 level=DEBUG source=amd_linux.go:421 msg="amdgpu driver not detected /sys/module/amdgpu"
releasing cuda driver library
time=2025-03-25T14:58:10.380+01:00 level=INFO source=types.go:131 msg="inference compute" id=GPU-0cf07724-e3e3-728b-00a0-5d028d558f96 library=cuda variant=v12 compute=7.0 driver=12.4 name="Tesla V100-SXM2-32GB" total="31.7 GiB" available="31.4 GiB"
